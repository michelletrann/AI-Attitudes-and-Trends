# group all non-responses
levels(gss_cat$rincome)
gss_cat %>%
mutate(
rincome =
fct_collapse(
rincome,
'NA' = c("No answer, Don't know", "Refused", "Not applicable"),
'Lower than $5000' = c("Lt $1000", str_c( "$", c("1000", "3000", "4000")," to ", c("2999", "3999", "4999")
)),
'$5000 to $10000' = str_c("$", c("5000", "6000", "7000", "8000"), " to ", c("5999", "6999", "7999", "9999"))
# Create a new variable with rincome collapsed into a small set of categories
gss_cat$income_group <- cut(gss_cat$rincome,
view(gss_cat)
# group all non-responses
levels(gss_cat$rincome)
gss_cat %>%
mutate(
rincome =
fct_collapse(
rincome,
`NA` = c("No answer", "Don't know", "Refused", "Not applicable"),
`Lower than $5000` = c("Lt $1000", str_c(
"$", c("1000", "3000", "4000"),
" to ", c("2999", "3999", "4999")
)),
`$5000 to $10000` = str_c(
"$", c("5000", "6000", "7000", "8000"),
" to ", c("5999", "6999", "7999", "9999")
)
)
) %>%
view(gss_cat)
# group all non-responses
levels(gss_cat$rincome)
gss_cat %>%
mutate(
rincome =
fct_collapse(
rincome,
`NA` = c("No answer", "Don't know", "Refused", "Not applicable"),
`Lower than $5000` = c("Lt $1000", str_c(
"$", c("1000", "3000", "4000"),
" to ", c("2999", "3999", "4999")
)),
`$5000 to $10000` = str_c(
"$", c("5000", "6000", "7000", "8000"),
" to ", c("5999", "6999", "7999", "9999")
)
)
) %>%
ggplot(aes(x = rincome)) +
geom_bar() +
coord_flip()
gss_cat %>%
mutate(
rincome =
fct_collapse(
rincome,
`NA` = c("No answer", "Don't know", "Refused", "Not applicable"),
`Lower than $5000` = c("Lt $1000", str_c(
"$", c("1000", "3000", "4000"),
" to ", c("2999", "3999", "4999")
)),
`$5000 to $10000` = str_c(
"$", c("5000", "6000", "7000", "8000"),
" to ", c("5999", "6999", "7999", "9999")
)
)
) %>%
ggplot(aes(x = rincome)) +
geom_bar() +
coord_flip()
gss_cat %>%
mutate(
rincome =
fct_collapse(
rincome,
`NA` = c("No answer", "Don't know", "Refused", "Not applicable"),
`Lower than $5000` = c("Lt $1000", str_c(
"$", c("1000", "3000", "4000"),
" to ", c("2999", "3999", "4999")
)),
`$5000 to $10000` = str_c(
"$", c("5000", "6000", "7000", "8000"),
" to ", c("5999", "6999", "7999", "9999")
)
)
) %>%
library(nycflights13)
library(nycflights13)
library(nycflights13)
view(flights)
flights %>%
filter(arr_delay >= 120)
flights %>%
filter(dest %in% c("HOU","IAH"))
flights %>%
filter(carrier %in% c("UA", "AA", "DL"))
One would use the read.delim() function with the argument delim= "|"
preg <- tribble(
~pregnant, ~male, ~female,
"yes",     NA,    10,
"no",      20,    12
)
# The variables in the dataset are:
# sex ("female", "male")
# pregnant ("yes", "no")
# we would use the pivot_longer function to tidy this dataset
tidy_preg <- preg %>%
pivot_longer(cols = c("male", "female"), names_to = "sex", values_to = "count") %>%
mutate(pregnant = ifelse(pregnant == "yes", TRUE, FALSE))
view(tidy_preg)
x <- c("item1", "item2", "item3", "item4", "item5")
x
x_new <- c("question_1", "question_2", "question_3", "question_4", "question_5")
cat(x_new, sep = " ")
d4 <- c("August 19 (2015)", "July 1 (2015)")
mdy(d4)
mdy(d4)
dmy(d1)
library(lubridate)
d1 <- "January 1, 2010"
dmy(d1)
d2 <- "2015-Mar-07"
ymd(d2)
d3 <- "06-Jun-2017"
dmy(d3)
d4 <- c("August 19 (2015)", "July 1 (2015)")
mdy(d4)
d5 <- "12/30/14" # Dec 30, 2014
d1 <- "January 1, 2010"
dmy(d1)
dmy("01012010")
d1 <- "January 1, 2010"
mdy(d1)
d2 <- "2015-Mar-07"
ymd(d2)
d3 <- "06-Jun-2017"
dmy(d3)
d4 <- c("August 19 (2015)", "July 1 (2015)")
mdy(d4)
d5 <- "12/30/14" # Dec 30, 2014
d5 <- "12/30/14" # Dec 30, 2014
mdy(d5)
flights%>%
mutate(dow = wday(sched_dep_time)) %>%
group_by(dow) %>%
summarise(
dep_delay = mean(dep_delay),
arr_delay = mean(arr_delay, na.rm = TRUE)
) %>%
flights%>%
mutate(dow = wday(sched_dep_time)) %>%
group_by(dow) %>%
summarise(
dep_delay = mean(dep_delay),
arr_delay = mean(arr_delay, na.rm = TRUE)
) %>%
print(n = Inf)
ggplot(data = starwars, mapping = aes(x=height, y=mass)) +
geom_point() +
labs(title = "Star Wars Mass vs Height",
x = "Height", y = "Weight")
view(starwars)
plot_starwars <- function(species = "Human")
# view(starwars)
plot_starwars <- function(species = "Human")
starwars %>%
ggplot(data = starwars, mapping = aes(x=height, y=mass)) +
geom_point() +
labs(title = "Star Wars Mass vs Height",
x = "Height", y = "Weight")
starwars %>%
ggplot(data = starwars, mapping = aes(x=height, y=mass)) +
geom_point() +
labs(title = "Star Wars Mass vs Height",
x = "Height", y = "Weight")
starwars %>% select(plot_starwars)
starwars$species == "Human"
ggplot(data = starwars, mapping = aes(x=height, y=mass)) +
geom_point() +
labs(title = "Star Wars Mass vs Height",
x = "Height", y = "Weight")
starwars$species
table(starwars$species)
starwars %>% group_by(species)
starwars %>% group_by(species = "Human")
starwars %>% group_by(species)
starwars %>% group_by(species  = "Human")
starwars %>% group_by(species)
starwars %>% group_by(species = "Human")
starwars$species == "Human"
table(starwars$species == "Human")
starwars %>% group_by(species = "Human")
starwars %>% fliter(species == "Human")
starwars %>% (species == "Human")
starwars %>% (starwars$species == "Human")
table(starwars$species == "Human")
plot_starwars <- filter(starwars, species = "Human")
plot_starwars <- filter(starwars$species = "Human")
plot_starwars <- filter(starwars$species == "Human")
starwars[starwars$species == "Human", ]
starwars[starwars$species == "Human",]
starwars %>% filter(species = "Human")
starwars %>% function(species = "Human")
starwars %>% function(species = "Human")
starwars %>% starwars$species == "Human"
starwars$species == "Human"
table(starwars$species == "Human")
group_by(starwars$species == "Human")
plot_starwars <- group_by(starwars$species == "Human")
plot_starwars <- filter(starwars$species == "Human")
plot_starwars <- select(starwars$species == "Human")
print(starwars$species == "Human")
starwars[starwars$species == "Human",]
plot_starwars <- function(starwars$species == "Human"
plot_starwars <- starwars[starwars$species == "Human",]
ggplot(data = plot_starwars, mapping = aes(x=height, y=mass)) +
geom_point() +
labs(title = "Star Wars Mass vs Height",
x = "Height", y = "Weight")
starwars$species == "Human"
table(starwars$species == "Human")
plot_starwars <- starwars[starwars$species == "Human",]
ggplot(data = plot_starwars, mapping = aes(x=height, y=mass)) +
geom_point() +
labs(title = "Star Wars Mass vs Height",
x = "Height", y = "Weight")
starwars[starwars$species == "Human", "Wookiee", "Ewok"]
starwars[starwars$species == "Human", "Wookiee", "Ewok"]
starwars[starwars$species == "Human" "Wookiee" "Ewok"]
starwars[starwars$species == "Human", "Wookiee", "Ewok"]
starwars[starwars$species == "Human" & starwars$species == "Wookiee" & starwars$species == "Ewok"]
starwars$species == "Wookiee"
table(starwars$species == "Human", "Wookiee", "Ewok")
for (species in c("Human", "Wookiee", "Ewok")) {
loop <- starwars %>%
filter(species == species)
plot <- ggplot(data = loop, mapping = aes(x=height, y=mass)
geom_point() +
for (species in c("Human", "Wookiee", "Ewok")) {
plot_data <- starwars %>%
filter(species == species)
plot_title <- paste("Star Wars Mass vs Height -", species)
plot <- ggplot(data = plot_data, mapping = aes(x = height, y = mass)) +
geom_point() +
facet_wrap(~ gender) +
labs(title = plot_title, x = "Height", y = "Weight")
print(plot)
}
for (species in c("Human", "Wookiee", "Ewok")) {
plot_data <- starwars %>%
filter(species == species)
plot_title <- paste("Star Wars Mass vs Height -", species)
plot <- ggplot(data = plot_data, mapping = aes(x = height, y = mass)) +
geom_point() +
labs(title = plot_title, x = "Height", y = "Weight")
print(plot)
}
map (species in c("Human", "Wookiee", "Ewok")) {
map(species in c("Human", "Wookiee", "Ewok")) {
for (species in c("Human", "Wookiee", "Ewok")) {
plot_data <- starwars %>%
filter(species == species)
plot <- ggplot(data = plot_data, mapping = aes(x = height, y = mass)) +
geom_point() +
labs(title = "Star Wars Mass vs Height", x = "Height", y = "Weight")
print(plot)
}
for (species in c("Human", "Wookiee", "Ewok")) {
plot_data <- starwars %>%
filter(species == species)
title <- paste("Star Wars Mass vs Height -", species)
plot <- ggplot(data = plot_data, mapping = aes(x = height, y = mass)) +
geom_point() +
labs(title = title, x = "Height", y = "Weight")
print(plot)
}
species <- c("Human", "Wookiee", "Ewok")
species <- c("Human", "Wookiee", "Ewok")
species_map <- function(species) {
starwars %>%
filter(species ==!!species) %>%
ggplot(aes(x = height, y = mass)) +
geom_point() +
labs(title = paste("Star Wars Mass vs Height -", species),
x = "Height, y = "Weight")
species <- c("Human", "Wookiee", "Ewok")
species_map <- function(species) {
starwars %>%
filter(species ==!!species) %>%
ggplot(aes(x = height, y = mass)) +
geom_point() +
labs(title = paste("Star Wars Mass vs Height -", species),
x = "Height", y = "Weight")
}
plot3 <- map(species, species_map)
species <- c("Human", "Wookiee", "Ewok")
species_map <- function(species) {
starwars %>%
filter(species ==!!species) %>%
ggplot(aes(x = height, y = mass)) +
geom_point() +
labs(title = paste("Star Wars Mass vs Height -", species),
x = "Height", y = "Weight")
}
plot3 <- map(species, species_map)
print(plot3)
species <- c("Human", "Wookiee", "Ewok")
species_map <- function(species) {
starwars %>%
filter(species ==!!species) %>%
ggplot(aes(x = height, y = mass)) +
geom_point() +
labs(title = paste("Star Wars Mass vs Height -", species),
x = "Height", y = "Weight")
}
plot3 <- map(species, species_map)
plots[[1]]
species in c("Human", "Wookiee", "Ewok") {
species <- c("Human", "Wookiee", "Ewok") {
species <- c("Human", "Wookiee", "Ewok")
plot_data <- starwars %>%
filter(species == species)
title <- paste("Star Wars Mass vs Height -", species)
plot <- ggplot(data = plot_data, mapping = aes(x = height, y = mass)) +
geom_point() +
labs(title = title, x = "Height", y = "Weight")
print(plot)
}
species <- c("Human", "Wookiee", "Ewok")
plot_species <- starwars %>%
filter(species == species)
title <- paste("Star Wars Mass vs Height -", species)
plot <- ggplot(data = plot_data, mapping = aes(x = height, y = mass)) +
geom_point() +
labs(title = title, x = "Height", y = "Weight")
print(plot)
}
species <- c("Human", "Wookiee", "Ewok")
plot_species <- starwars %>%
filter(species == !!species)
title <- paste("Star Wars Mass vs Height -", species)
plot <- ggplot(data = plot_data, mapping = aes(x = height, y = mass)) +
geom_point() +
labs(title = title, x = "Height", y = "Weight")
print(plot)
}
species <- c("Human", "Wookiee", "Ewok")
plot_species <- starwars %>%
filter(species == !!species) %>%
title <- paste("Star Wars Mass vs Height -", species)
species <- c("Human", "Wookiee", "Ewok")
title <- paste("Star Wars Mass vs Height -", species)
plot_species <- starwars %>%
filter(species == species) +
ggplot(data = species, mapping = aes(x = height, y = mass)) +
geom_point() +
labs(title = title, x = "Height", y = "Weight")
species <- c("Human", "Wookiee", "Ewok")
title <- paste("Star Wars Mass vs Height -", species)
plot_species <- starwars %>%
filter(species == species) +
ggplot(data = plot_species, mapping = aes(x = height, y = mass)) +
geom_point() +
labs(title = title, x = "Height", y = "Weight")
species_list <- c("Human", "Wookiee", "Ewok")
map(species_list, ~{
plot_data <- starwars %>% filter(species == .x)
title <- paste("Star Wars Mass vs Height -", .x)
ggplot(data = plot_data, mapping = aes(x = height, y = mass)) +
geom_point() +
labs(title = title, x = "Height", y = "Weight")
}) %>%
map(print)
for (species in c("Human", "Wookiee", "Ewok")) {
plot_data <- starwars %>%
filter(species == species)
title <- paste("Star Wars Mass vs Height -", species)
plot <- ggplot(data = plot_data, mapping = aes(x = height, y = mass)) +
geom_point() +
labs(title = title, x = "Height", y = "Weight")
print(plot)
}
species_list <- c("Human", "Wookiee", "Ewok")
map(species_list, ~{
plot_data <- starwars %>% filter(species == .x)
title <- paste("Star Wars Mass vs Height -", .x)
ggplot(data = plot_data, mapping = aes(x = height, y = mass)) +
geom_point() +
labs(title = title, x = "Height", y = "Weight")
}) %>%
map(print)
species_list <- c("Human", "Wookiee", "Ewok")
species_list %>%
map(ggplot(data = plot_data, mapping = aes(x = height, y = mass)) +
geom_point() +
labs(title = title, x = "Height", y = "Weight")
species_list <- c("Human", "Wookiee", "Ewok")
species_list %>%
map(ggplot(data = plot_data, mapping = aes(x = height, y = mass)) +
geom_point() +
labs(title = title, x = "Height", y = "Weight"))
map(species_list, mean)
map(species_list, x=height, y=weight)
species_list <- c("Human", "Wookiee", "Ewok")
map(species_list, ~{
plot_data <- starwars %>% filter(species == .x)
title <- paste("Star Wars Mass vs Height -", .x)
ggplot(data = plot_data, mapping = aes(x = height, y = mass)) +
geom_point() +
labs(title = title, x = "Height", y = "Weight")
}) %>%
map(print)
citation(ggplot2)
ggplot2(citation)
citation
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy, color = "blue"))
# Load packages
library(tidyverse)
library(patchwork)
library(nycflights13)
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy, color = "blue"))
ggplot(data = mpg) +
geom_point(mapping = aes(x = displ, y = hwy), color = "blue")
# load data
data(mpg)
# create plot
ggplot(data = mpg, aes(x = displ, y = hwy)) +
geom_point() +
facet_wrap(~class, nrow = 2)
ggplot(mpg, aes(x=displ, y=hwy)) +
geom_point()
geom_smooth(se=TRUE)
# Load data
# data(mpg)
# Will require patchwork of 6 different graphs
p1 <- ggplot(data = mpg,
mapping = aes(x = displ, y = hwy)) +
geom_point() +
geom_smooth(se = FALSE)
print(p1)
# Load data
# data(mpg)
# Will require patchwork of 6 different graphs
p1 <- ggplot(data = mpg,
mapping = aes(x = displ, y = hwy)) +
geom_point() +
geom_smooth(se = TRUE)
print(p1)
# Load data
# data(mpg)
# Will require patchwork of 6 different graphs
p1 <- ggplot(data = mpg,
mapping = aes(x = displ, y = hwy)) +
geom_point() +
geom_smooth(se = FALSE)
print(p1)
p2 <- ggplot(data=mpg, aes(x=displ, y=hwy)) +
geom_smooth(mapping = aes(group=drv), se=FALSE) +
geom_point()
print(p2)
p3 <- ggplot(data=mpg, aes(x=displ, y=hwy, color=drv)) +
geom_point() +
geom_smooth(se = FALSE)
print(p3)
p4 <- ggplot(data=mpg, aes(x=displ, y=hwy)) +
geom_point(aes(color=drv)) +
geom_smooth(se=FALSE)
print(p4)
p5 <- ggplot(data=mpg, aes(x=displ, y=hwy)) +
geom_point(aes(color=drv)) +
geom_smooth(aes(linetype=drv), se=FALSE)
print(p5)
p6 <- ggplot(data=mpg, aes(x = displ, y = hwy)) +
geom_point(size = 4, color = "white") +
geom_point(aes(color = drv))
print(p6)
(p1|(p2/p3))/((p4/p5)|p6)
library(nycflights13)
# use filter() function from dplyr package
flights %>%
filter(arr_delay >= 120)
library(lubridate)
d1 <- "January 1, 2010"
mdy(d1)
d2 <- "2015-Mar-07"
ymd(d2)
d3 <- "06-Jun-2017"
dmy(d3)
d4 <- c("August 19 (2015)", "July 1 (2015)")
mdy(d4)
d5 <- "12/30/14" # Dec 30, 2014
mdy(d5)
flights%>%
mutate(dow = wday(sched_dep_time)) %>% # create new 'dow' column, use 'wday' from 'lubridate'
group_by(dow) %>%
summarise(
dep_delay = mean(dep_delay), # mean departure day
arr_delay = mean(arr_delay, na.rm = TRUE) # mean arrival day
) %>%
print(n = Inf) # print results into tibble
ggplot(data = starwars, mapping = aes(x=height, y=mass)) +
geom_point() +
labs(title = "Star Wars Mass vs Height",
x = "Height", y = "Weight")
install.packages("git")
setwd("C:/Users/miche/OneDrive/Documents/Spring 2023/GLHLTH 562/_data")
setwd("C:/Users/miche/OneDrive/Documents/Spring 2023/GLHLTH 562/Final Project Directory")
